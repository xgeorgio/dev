Title:<br/>
<b>NN-MLP-vanilla: Neural Network Multi-Layer Perceptron programs suite in 'vanilla' C/C++</b>

Description:<br/>
<p><strong>fMRI-Sparse toolbox</strong> is a minimalistic collection of low-level data handling (matrix) functions for fMRI processing, block-based &amp; event-based test pattern series, as well as "realistic" simulated fMRI data series for algorithm benchmarking, template scripts for various fMRI decomposition methods (GLM, PCA, ICA, BP, CCA, KSVD), analysis of components &amp; activation maps, etc. Since the toolbox can be used as a benchmarking suite, several data generators are included for creating fully-identifiable fMRI-like data series.</p>
<p>The toolbox implements the low-level functionality for fMRI data structures and uses some standard implementations for commonly used algorithms for analysis/decomposition and blind source separation, including principal component analysis, multivariate linear regression, basis pursuit and independent component analysis (see below: <i>"Decomposition / analysis algorithms"</i>). It also includes some extended wrapper functions for fMRI-like data series generation, based on existing similar code packages (e.g. from <a href="http://mlsp.umbc.edu" target="_blank">the MLSP lab</a>, see below: <i>"fMRI data series generation"</i>), that can be used in benchmarking experiments. The plan is to provide frequent version updates of the toolbox, extending it with new implementations, performance enhancements and novel algorithms for fMRI data processing with special focus in sparse data modeling.</p>
<p>The main implementation platform is <a target="_blank" href="http://www.mathworks.com">Matlab</a>, currently using toolboxes from versions 8.0+ (releases R2012b and above), e.g. the Basis Pursuit algorithms from Wavelet Toolbox. However, with some small conversions in the source codes, the main functions should be fully runnable with other Matlab-compatible platforms like <a target="_blank" href="http://www.gnu.org/software/octave/">Octave (GNU)</a>. Also, there are some external codes and toolboxes required to run some methods (e.g. fastICA), which too can be substituted by other similar packages if necessary - see below for details.</p>
<p>Some features are not yet fully implemented. All code is under constant development and in beta version, so it should not be considered a 'stable' release.</p>
<p><h3>What does the fMRI-Sparse toolbox include?</h3></p>
<p>Here is a list of the main features currently included in the toolbox:</p>
<p><strong>fMRI data series manipulation:</strong></p>
<ul>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxVectorize / vxDevectorize</span></span> : A fMRI data series typically contains a 3-D grid of several 2-D 'slices' of brain fMRI 'images', registered along a 4th dimension of time (temporal evolution). However, most decomposition and analysis algorithms require standard 2-D matrices. These two functions convert a 3-D (slice-based) or 4-D (grid-based) fMRI data series into a standard 'flattened' matrix and vice versa. These are compatible with Matlab's standard 'reshape' function, but they keep the row-wise axis for time and column-wise axis for voxels (while 'reshape' works differently).</li>
</ul>
<p><strong>fMRI voxel dependencies:</strong></p>
<ul>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxBOLDtwogammaHRF</span></span> : A standard, fully-parametric two-Gamma implementation of the Haemodynamic Response Function (HRF) for BOLD registration in fMRI. It is typically used as a convolution kernel when generating the components of a design matrix in various decomposition methods, e.g. GLM or OMP. The implementation and default parameter values are based on the model proposed in: <a target="_blank" href="http://www.sciencedirect.com/science/article/pii/S1053811907005174">Jagath C. Rajapakse, Juan Zhou, <em>Learning effective brain connectivity with dynamic Bayesian networks</em>, NeuroImage 37 (2007) 749-760</a>.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxARMA</span></span> : When generating artificial fMRI data series, various temporal and/or spatial dependencies between voxels need to be included. This function can be used as a post-processing stage for 1-D, 2-D or 3-D spatial convolution kernels, as well as in the 4th (time) dimension for temporal convolution kernels. It also includes options for adding noise elements in the final data.</li>
</ul>
<p><strong>Test-pattern data series generators:</strong></p>
<ul>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxBoxPatternCreate / vxBoxSeriesCreate</span></span> : One of the most common cases of benchmarking data for fMRI decomposition algorithms is the use of 'box' patterns, with possible spatial and/or temporal overlapping. These two functions automate the generation procedures of such test-pattern data series.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxSeriesBlockCreate / vxSeriesEventCreate</span></span> : Create block-based and event-based fMRI activation patterns to be used in combination with any test patterns for the generation of corresponding data series.</li>
</ul>
<p><strong>fMRI post-processing / various:</strong></p>
<ul>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxCalcActivMap</span></span> : After analyzing a fMRI data series into components, the 'sources' are correlated to known (task-related) activation patterns in order to identify 'activated' voxels in brain areas. This function is currently based on correlation in the temporal domain, since this is much faster, more robust and more generic than any other similar model-based approach, e.g. performing statistical significance tests upon the 'beta' coefficients of a GLM model. However, the corresponding activation maps (based on p-values) right now are much more inaccurate, since this feature is not yet fully implemented here. Instead, the correlation itself, either on the temporal ('fixed' versus 'discovered' ones) or the spatial domain (voxel runs with/without specific 'sources' included) should be used for the illustration of 'active' brain areas.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">signal_rescale</span></span> : General-purpose function for rescaling a data series - e.g. used by '<span style="font-family: courier new,courier;">vxBOLDtwogammaHRF</span>'</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">signal_white</span></span> : General-purpose function for 'whitening' a data series, i.e., normalizing it for mean=0 and std=1.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">calcSparsity</span></span> : Given a coefficient matrix (after decomposition), this function calculates the number of non-zero coefficients per 'signal'. On sparse coding stages (e.g. using BP), these numbers are the given sparsity constraint (T0).</li>
</ul>
<p><strong>fMRI data series generation:</strong></p>
<ul>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxCreateSimData</span></span> : Create a typical block-based test-pattern data series with (optionally) spatial and temporal overlapping between two 'box' activations. This can be modified to create any other type and shape of activation.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxCreateRealData</span></span> : Create a "realistic" fMRI-like data series (real-valued) for use with any type of decomposition algorithm, for a single 'slice' and a total of 8 independent 'sources', one of which is the main task-related component to be identified. The generator optionally displays the complete run, illustrating the full-mixture and (only) the task-related activation map. The final output is the full-mixture run, i.e., a 2-D image evolving through time, as well as the components (sources) and mixture matrices. The implementation is a rescaling-enabled modular version of a similar script by <a href="http://mlsp.umbc.edu">the MLSP lab</a> - for further details see: N. Correa, Y.-O. Li, T. Adali, and V. Calhoun, <em>Comparison of blind source separation algorithms for fMRI using a new Matlab toolbox: GIFT</em>, in Proc. IEEE Int. Conf. Acoust., Speech, Signal Processing (ICASSP), Philadelphia, PA, vol. 5, pp. 401-404, March 2005.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">vxCreateComplexData</span></span> : Very similar to 'vxCreateRealData' but with complex-valued elements that include randomized phase shifts. These data series are useful when the decomposition process is linked to blind-source separation and/or low-level compressive sensing, e.g. during the acquisition stage of fMRI (K-space compression). The implementation is a rescaling-enabled modular version of a similar script by <a href="http://mlsp.umbc.edu">the MLSP lab</a> - for further details see: N. Correa, Y.-O. Li, T. Adali, and V. Calhoun, <em>Comparison of blind source separation algorithms for fMRI using a new Matlab toolbox: GIFT</em>, in Proc. IEEE Int. Conf. Acoust., Speech, Signal Processing (ICASSP), Philadelphia, PA, vol. 5, pp. 401-404, March 2005.</li>
</ul>
<h3>Decomposition / analysis algorithms</h3>
<p>The fMRI-Sparse toolbox currently includes implementation/usage of four main decomposition algorithms for the analysis of fMRI data series:</p>
<p><strong>Fixed-components methods:</strong></p>
<ul>
<li><span style="text-decoration: underline;">General Linear Model (GLM)</span> : A standard regression-based method for analyzing fMRI data series, employing multivariate linear regression against a pre-defined <a target="_blank" href="http://en.wikipedia.org/wiki/Design_matrix">design matrix</a> that usually contains HRF-convolutions of task-related and transient task-related activation patterns. In fMRI-Sparse toolbox, this method is implemented by using <a target="_blank" href="http://www.mathworks.com/help/stats/mvregress.html">Matlab's <span style="font-family: courier new,courier;">mvregress</span> function</a> from the <a target="_blank" href="http://www.mathworks.com/help/stats/index.html">Statistics toolbox</a>.</li>
<li><span style="text-decoration: underline;">Canonical Correlation Analysis (CCA)</span> : A standard correlation-based method for analyzing fMRI data series by calculating a pair of matrices A and B that maximize the correlation between the fMRI data series and a pre-defined <a target="_blank" href="http://en.wikipedia.org/wiki/Design_matrix">design matrix</a> that usually contains HRF-convolutions of task-related and transient task-related activation patterns. In fMRI-Sparse toolbox, this method is implemented by using <a target="_blank" href="http://www.mathworks.com/help/stats/canoncorr.html">Matlab's <span style="font-family: courier new,courier;">canoncorr</span> function</a> from the <a target="_blank" href="http://www.mathworks.com/help/stats/index.html">Statistics toolbox</a>.</li>
<li><span style="text-decoration: underline;">Matching Pursuit (MP)</span> : One of the most popular algorithms for sparse representation and compressive sensing via redundant dictionaries. In fMRI-Sparse toolbox, this method uses the Orthogonal Matching Pursuit (OMP) variant as it is implemented by <a target="_blank" href="http://www.mathworks.com/help/wavelet/ref/wmpalg.html">Matlab's <span style="font-family: courier new,courier;">wmpalg</span> function</a> from the <a target="_blank" href="http://www.mathworks.com/help/wavelet/index.html">Wavelet toolbox</a>. Since the current version includes only template scripts, instead of an over-complete dictionary, a typical GLM design matrix is used here as well - this means that there is no real "selection" of appropriate components from the dictionary, only an optimal ordering and weighting of them. Furthermore, due to sparsity constraints, the final reconstruction quality in this case is deteriorated (more components are normally used). For real benchmarking tests, the <a target="_blank" href="http://www.mathworks.com/help/wavelet/ref/wmpdictionary.html"><span style="font-family: courier new,courier;">wmpdictionary</span> function</a> can be used to create a proper redundant dictionary, containing an adequate number e.g. of wavelet components.</li>
</ul>
<p><strong>Nonfixed-components (blind) methods:</strong></p>
<ul>
<li><span style="text-decoration: underline;">Principal Compoments Analysis (PCA)</span> : The standard SVD-based method for the decomposition of a data series into a (reduced) eigenspace. Instead of providing a pre-defined design matrix, here the activation patterns are "discovered" as well; however, due to its inherent sensitivity to noise, the corresponding spatial components are usually poisoned by "mirror" artifacts (complementary dependencies). In fMRI-Sparse toolbox, this method is implemented by using <a target="_blank" href="http://www.mathworks.com/help/stats/pca.html">Matlab's <span style="font-family: courier new,courier;">pca</span> function</a> from the <a target="_blank" href="http://www.mathworks.com/help/stats/index.html">Statistics toolbox</a>.</li>
<li><span style="text-decoration: underline;">Independent Components Analysis (ICA)</span> : Instead of just uncorrelated components, ICA analyzes the data series into <em>independent</em> components using higher-order statistical constraints. The two most popular approaches of ICA is FastICA and Infomax. If noise levels are low, the "discovered" components closely match the true "sources" that produce the signal, e.g. the corresponding internal "sources" of the mixture that is produced by <span style="font-family: courier new,courier;">vxCreateRealData</span> (see above). In fMRI-Sparse toolbox, this method is employed by using the <a target="_blank" href="http://research.ics.aalto.fi/ica/fastica/index.shtml">FastICA toolbox for Matlab</a> (see below for details) and can be substituted by any other similar implementation.</li>
<li><span style="text-decoration: underline;">Sparse Dictionary Learning-Decomposition (KSVD)</span> : KSVD is one of the most popular and well-studied methods for data (matrix) decomposition under sparsity constraints, using a 'trained' dictionary of coding atoms. The method is a generalization of K-means clustering, essentially employing singular value decomposition (svd) techniques to iteratively pursuit optimal atoms formulation into the dictionary, while at the same time adjusting the corresponding regression coefficients. Thus, it is a 'blind' decomposition method, similar to PCA or ICA, but at the same time similar to classic signal transformations (e.g., DFT, DWT, DCT, ...) but with "learned" data-driven base functions. The KSVD analysis can work by applying constraints either on the final approximation error or on the required sparsity level on the coefficients. If dictionary size and sparsity level are chosen appropriately, the "learned" dictionary atoms closely match the true "sources" that produce the signal, e.g. the corresponding internal "sources" of the mixture that is produced by <span style="font-family: courier new,courier;">vxCreateRealData</span> (see above). In fMRI-Sparse toolbox, this method is employed by using the <a target="_blank" href="http://www.cs.technion.ac.il/~elad/software/">KSVD toolbox for Matlab</a> (see below for details) and can be substituted by any other similar implementation</li>
</ul>
<h3>Main scripts - Test-runs (demos)</h3>
<p>Currently, there are two main scripts that can be used as code templates for similar procedures, i.e., how can fMRI be generated, analyzed and illustrated in various ways:</p>
<p><strong>Test-pattern fMRI data series decomposition scripts:</strong></p>
<ol>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">run1_createblockseries</span></span> : This is a code template for a typical block-based test-pattern series generation, analysis and presentation. The script does not actually include any real or simulated fMRI data series - this is used only for illustration purposes (data handling &amp; processing) and to verify the proper use of decomposition algorithms, e.g. PCA. It uses the '<span style="font-family: courier new,courier;">vxCreateSimData</span>' function to generate a full fMRI-like block-pattern series, perform various decomposition procedures (PCA, ICA, GLM, BP), as well as HRF convolution on activation patterns and ARMA-plus-noise post-processing on the input data, and display full runs of generated and decomposed/reconstructed data series.</li>
<li><span style="text-decoration: underline;"><span style="font-family: courier new,courier;">run2_createRealSeries</span></span> : This is a code template for a typical block-based simulated fMRI data series generation, analysis and presentation.This script uses "realistic" real-valued fMRI data including a single 'slice', i.e., a 2-D image evolving through time - this can be used for illustration purposes (data handling &amp; processing), as well as to verify the proper use of decomposition algorithms, e.g. PCA or KSVD. It can also be used as a template for comparative testing of varius decomposition methods, with regard to the accuracy of identified components, reconstruction error, etc. It uses the '<span style="font-family: courier new,courier;">vxCreateRealData</span>' function to generate a full "realistic" one-slice fMRI data series, perform various decomposition procedures (PCA, ICA, GLM, BP, CCA, KSVD) and display full runs of generated and decomposed/reconstructed data series.</li>
</ol>
<h3>Downloads / Resources</h3>
<p>The fMRI-Sparse toolbox is freely available under the <a target="_blank" href="Creative%20Commons%20Attribution%20Share-Alike%20international%20licence%203.0">Creative Commons Attribution Share-Alike international license 3.0 (CC-BY-SA)</a>, with no guarantee and no support (at least for now). See source code for individual options and version history details.</p>
<p>Please feel free to send feedback, suggestions and bug reports. However, keep in mind that this is still a work-in-progress, so incomplete features, errors and instabilities are to be expected.</p>
<ul>
<li><strong>fMRI-Sparse toolbox for Matlab</strong> / version 1.11 / release 25-Sept-2013 : <br /> <a href="http://dx.doi.org/10.5281/zenodo.59612" target="_blank">http://dx.doi.org/10.5281/zenodo.59612</a> >> <a target="_blank" href="../files/fmri-sparse-toolbox_20130925.7z"><strong>Download</strong></a> (22 KB)<br />(MD5: 7c84efb50d667b75a64976127e08a44f)</li>
<br />
<li><a target="_blank" href="http://research.ics.aalto.fi/ica/fastica/index.shtml">FastICA toolbox for Matlab</a> : Developed and published by the <a target="_blank" href="http://research.ics.aalto.fi/ica/fastica/about.shtml">ICS team</a> in the <a target="_blank" href="http://www.hut.fi">Helsinki University of Technology</a>, Finland. It is used as external package by the fMRI-Sparse toolbox, but any similar ICA implementation of FastICA or Infomax can be used instead after minor modifications in the main (template) scripts. An Octave implementation is also provided, see their main page for details &amp; downloads.</li>
<li><a target="_blank" href="http://www.cs.technion.ac.il/~elad/software/">KSVD toolbox for Matlab</a> : A joint work developed and published by Michael Elad, Michal Aharon and Freddy Bruckstein. It is used as external package by the fMRI-Sparse toolbox, but any similar KSVD implementation can be used instead after minor modifications in the main (template) scripts. The specific tollbox is adopted specifically due to it simple implementation and maximum compatibility with Octave (no .mex compiled files are required, pure Matlab implementation, may be slow with large datasets). See their main page for details &amp; more downloads.</li>
<li><a target="_blank" href="https://sites.google.com/site/kittipat/mvpa-for-brain-fmri/fmri-data-preprocessing">Kittipat fMRI preprocessing toolbox for Matlab</a> : Currently not required by the current version of fMRI-Sparse toolbox, but highly recommended, as it provides a very lightweight and compact alternative (e.g. compared to <a target="_blank" href="http://www.fil.ion.ucl.ac.uk/spm/software/spm8/">SPM8</a>) for handling <a target="_blank" href="http://nifti.nimh.nih.gov/nifti-1/">fMRI data files in NIFTI format</a>. Instead of simulated data series, a real fMRI data file can be imported and used as input in the main (template) scripts, either for a single 'slice' (2-D/3-D) or a full brain scan (3-D/4-D).</li>
<li><a target="_blank" href="https://openfmri.org/data-sets">Openfmri.org</a> : One of the most comprehensive and well-documented collection of fMRI datasets, freely available for download, in <a target="_blank" href="http://nifti.nimh.nih.gov/nifti-1/">NIFTI format</a>.</li>
</ul>
<p>&nbsp;</p>

